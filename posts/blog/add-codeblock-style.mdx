---
title: mdx ë‚´ë¶€ codeblock ìŠ¤íƒ€ì¼ë§ í•˜ê¸° (feat. rehype-pretty-code)
description: ê±°ë¬´íŠ€íŠ€í•˜ê³  ëª»ìƒê¸´ ê¸°ë³¸ codeblock ëŒ€ì‹  ì˜ˆìœ codeblockì„ ì‚¬ìš©í•´ë³¼ê¹Œ?
date: 2023-07-20
series: Next.js ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
tags: [next.js, mdx, codeblock, rehype-pretty-code]
isPublished: true
imgUrl: add-codeblock-style.jpeg
---

## rehype-pretty-code ì„¤ì¹˜ ë° ì ìš©

ë°‹ë°‹í•œ ì½”ë“œ ë¸”ëŸ­ì— ë“œë””ì–´ ì˜ˆìœ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í–ˆë‹¤.

ë‚˜ëŠ” `rehype-pretty-code`ì„ ì‚¬ìš©í–ˆëŠ”ë°, ìš” ì•„ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì¶”ê°€ë¡œ ê°™ì´ ì„¤ì¹˜í•´ì¤˜ì•¼ í•œë‹¤.

## ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ ë° ì„¤ì • íŒŒì¼ ìˆ˜ì •

```shell
> yarn add rehype rehype-pretty-code shiki
```

`rehype-pretty-code`ì´ `rehype`ì™€ `shiki`ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ìš” ì„¸ê°œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°™ì´ ì„¤ì¹˜í•´ì•¼ í•œë‹¤. ì„¤ì¹˜ í›„ ê¸°ì¡´ mdx íŒŒì¼ì— ì ìš©í•˜ê¸° ìœ„í•´ `contentlayer.config.ts`ì—ì„œ í”ŒëŸ¬ê·¸ì¸ì— ì¶”ê°€í•œë‹¤.
(ì°¸ê³ : [contentlayer ê³µì‹ë¬¸ì„œ](https://www.contentlayer.dev/docs/sources/files/mdx-d747e46d#mdx-plugins-remarkrehype))

ë‚œ highlight.js ëŒ€ì‹  rehypePrettyCodeë¥¼ ì‚¬ìš©ì¤‘ì´ì—ˆê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í–ˆë‹¤.

```js title="contentlayer.config.ts"
import remarkGfm from 'remark-gfm';
import rehypePrettyCode from 'rehype-pretty-code';

//...

const rehypeOptions = {
  theme: 'slack-dark',
  keepBackground: true,
};

export default makeSource({
  //..
  mdx: {
    remarkPlugins: [remarkGfm],
    rehypePlugins: [[rehypePrettyCode, rehypeOptions]],
  },
});
```

ğŸ“Œ ì°¸ê³ ë¡œ remarkGfmë¥¼ ì‚¬ìš©í•˜ë©´, mdxì—ì„œ tableì´ ì ìš©ëœë‹¤!

ë‚˜ëŠ” ì½”ë“œë¥¼ ìœ„ì²˜ëŸ¼ ìˆ˜ì •í–ˆì„ ë•Œ codeblockì˜ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•Šì•˜ë‹¤. ì´ìœ ë¥¼ ì•Œ ìˆ˜ ì—†ì–´ ë³„ì˜ë³„ ì‡¼ë¥¼ ë‹¤ í–ˆëŠ”ë°, ë‚˜ì¤‘ì— ë‹¤ë¥¸ ê°œë°œì ë¸”ë¡œê±°ì˜ contentlayer ì½”ë“œë¥¼ ë³´ë‹ˆ ë‚˜ì˜ PostëŠ” contentTypeì´ markdownì´ì—ˆë˜ ê²ƒ...^^... (allPostì˜ Post íƒ€ì…ì„ í™•ì¸í•´ë³´ë‹ˆ bodyê°€ Markdown íƒ€ì…ì´ì—ˆë‹¤.)

markdown -> mdxë¡œ ìˆ˜ì •í•˜ê¸° ìœ„í•´ contentlayer.config.tsì—ì„œ contentTypeì„ ì¶”ê°€í–ˆë‹¤. (ê¸°ë³¸ê°’ì€ markdownì¸ ë“¯ í•˜ë‹¤.)

```js title="contentlayer.config.ts" {4}#minus {5}#plus
export const Post = defineDocumentType(() => ({
  name: 'Post',
  filePathPattern: `**/*.mdx`,
  contentType: 'markdown',
  contentType: 'mdx',
  fields: {
    title: { type: 'string', required: true },
    description: { type: 'string', required: false },
    tags: { type: 'list', of: { type: 'string' }, required: false },
    date: { type: 'date', required: true },
    isPublished: { type: 'boolean', required: true },
    imgUrl: { type: 'string', required: false },
  },
  computedFields: {
    url: { type: 'string', resolve: (post) => `${post._raw.flattenedPath}` },
  },
}));
```

### ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •

contentTypeì„ mdxë¡œ ë°”ê¾¸ë©´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•  ë¶€ë¶„ì´ ìƒê¸´ë‹¤.

1. postì˜ contentëŠ” post.body.htmlê°€ ì•„ë‹Œ post.body.codeì—ì„œ ê°€ì ¸ì™€ì•¼ í•œë‹¤.
2. ì´ì „ì—ëŠ” post.body.htmlë¥¼ ì¼ë°˜ \<div\> íƒœê·¸ ë‚´ dangerouslySetInnerHTML=\{\{\_|_html: post.body.html\}\}ì— ë°”ë¡œ ì ìš©ì‹œì¼°ë‹¤ë©´ mdx íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ì´ `useMDXComponent`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```tsx
import { useMDXComponent } from 'next-contentlayer/hooks';

const Post = ({ post }: Props) => {
  // ...
  const MDXContent = useMDXComponent(post.body.code);

  return (
    <div>
      //...
      <MDXContent />
      //...
    </div>
  )
}
```

### ë°”ë€ ìŠ¤íƒ€ì¼ë§ í™•ì¸

![ì ìš© ì „](../posts/blog/add-codeblock-style/before.png)

![ì ìš© í›„](../posts/blog/add-codeblock-style/after.png)

## rehype-pretty-code ì‘ìš© (24.02.22 ë‚´ìš© ì¶”ê°€)

ì½”ë“œ ë¸”ëŸ­ì„ ì‘ì„±í•˜ë©´ì„œ rehype-pretty-codeì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì¨ë´ì•¼ê² ë‹¤ê³  ë§¤ë²ˆ ë‹¤ì§í•˜ë‹¤ê°€ ë“œë””ì–´ ê´€ë ¨ ë‚´ìš©ì„ ì •ë¦¬í•˜ê²Œ ëë‹¤.

### ë²„ì „ ì—…ë°ì´íŠ¸
```json title="ì´ì „ ë²„ì „"
{
  "rehype-pretty-code": "^0.10.0",
  "shiki": "^0.14.3",
}
```

```json title="ì´í›„ ë²„ì „"
{
  "rehype-pretty-code": "^0.13.0",
  "shiki": "^1.1.6",
}
```

[https://rehype-pretty-code.netlify.app/](https://rehype-pretty-code.netlify.app/)ë¥¼ ì°¸ê³ í•˜ì—¬ ê´€ë ¨ ë‚´ìš©ì„ ì‘ì„±í–ˆë‹¤.

ì²˜ìŒ ì‚¬ìš©í–ˆë˜ ë²„ì „ì€ ìœ„ì™€ ê°™ìœ¼ë©° ì²˜ìŒì—” `rehype-pretty-code`ë§Œ ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í–ˆìœ¼ë‚˜ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¡œ ì¸í•´ ì›ë˜ ë²„ì „ìœ¼ë¡œ ë‹¤ì‹œ ë‹¤ìš´ê·¸ë ˆì´ë“œ í–ˆë‹¤.
ê·¸ëŸ¬ë‚˜ `0.10` ë²„ì „ì—ì„œëŠ” íŠ¹ì • ë¼ì¸ì„ ê°•ì¡°í•˜ëŠ” ê¸°ëŠ¥ì´ ë°˜ì˜ë˜ì–´ ìˆì§€ ì•Šì•„ ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í•´ì•¼ í–ˆìœ¼ë©°, ì•„ë˜ì˜ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `rehypePrettyCode`ì˜ íƒ€ì…ì„ anyë¡œ ê°•ì œ ì£¼ì…í•˜ì—¬ ë¬¸ì œë¥¼ ì„ì‹œë°©í¸ìœ¼ë¡œ í•´ê²°í–ˆë‹¤.
ë˜í•œ, `shiki` íŒŒì¼ì—ì„œ idë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ë„ ë°œìƒí–ˆëŠ”ë° ì´ ë¬¸ì œëŠ” `shiki`ë¥¼ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ í•˜ë©´ì„œ í•´ê²°ë˜ì—ˆë‹¤.

> Type '\(options?: Options | undefined\) => void | Transformer\<Root, Root\>' is not assignable to type 'Plugin\<any[], any, any\>'. 
Type 'void | Transformer\<Root, Root\>' is not assignable to type 'void | Transformer\<any, any\>'. 
Type 'Transformer\<Root, Root\>' is not assignable to type 'void | Transformer\<any, any\>'. 
Type 'Transformer\<Root, Root\>' is not assignable to type 'Transformer\<any, any\>'.

### ì ìš© ë°©ë²•

`rehype-pretty-code`ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì€ ë§ˆí¬ë‹¤ìš´ ì½”ë“œ `ë¸”ëŸ­ ìµœìƒë‹¨`ì— ë‚´ìš©ì„ ì ìœ¼ë©´ ë™ì‘í•œë‹¤.
ë°±í‹± ì˜†ì— í•´ë‹¹ ê¸°ëŠ¥ë“¤ì„ ë‚˜ì—´í•˜ë©´ ì‘ì„±ëœ ë‚´ìš©ë“¤ì´ íŒŒì‹±ë˜ë©´ì„œ ì‹¤ì œ htmlì— `data-rehype-pretty-code-figure`, `data-language="js"` attribute ë“±ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.
ì‚¬ìš©ìëŠ” ì´ attributeë¥¼ í™œìš©í•˜ì—¬ ìì‹ ì˜ css íŒŒì¼ì— ìì‹ ì´ ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•˜ê¸°ë§Œ í•˜ë©´ ë!

#### ğŸ“ ì°¸ê³ 
ë²„ì „ì„ ì—…ë°ì´íŠ¸ í•˜ê¸° ì „ì—ëŠ” div -> pre -> code ìˆœì„œëŒ€ë¡œ íƒœê·¸ê°€ ìƒì„±ë˜ì—ˆëŠ”ë°, í˜„ì¬ì˜ ìµœì‹  ë²„ì „ì—ì„œëŠ” figure -> pre -> code ìˆœì„œëŒ€ë¡œ íƒœê·¸ê°€ ìƒì„±ëœë‹¤.
ì¦‰, ì´ì „ ë²„ì „ì—ì„œ ì‘ì„±í•œ cssì— `div[data-rehype-pretty-code-fragment]`ì²˜ëŸ¼ ì‘ì„± ë˜ì–´ìˆì„ ê²½ìš° ìŠ¤íƒ€ì¼ë§ì´ ë°˜ì˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë‹ˆ
ì•ì˜ íƒœê·¸ ì„ íƒìëŠ” ì œì™¸í•˜ê³  attributeë§Œ ì‘ì„±í•˜ì—¬ ì´í›„ ë²„ì „ ì—…ë°ì´íŠ¸ì—ì„œë„ íƒœê·¸ ë³€ê²½ì— ì‰½ì— ëŒ€ì‘í•˜ë„ë¡ í•˜ì. 
(ë¬¼ë¡  attributeëª…ì´ ë°”ë€” ê²½ìš°ì—” attributeë„ ë‹¤ ë°”ê¿”ì•¼í•œë‹¤.)

### ê¸°ë³¸ ì„¤ì •

[https://rehype-pretty-code.netlify.app/#styles](https://rehype-pretty-code.netlify.app/#styles)ì— ì‘ì„±ëœ ê¸°ë³¸ ì„¤ì •ì„ ë¨¼ì € ì¶”ê°€í•´ì£¼ì.
`rehype-pretty-code`ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìŠ¤íƒ€ì¼ì´ê¸° ë•Œë¬¸ì— ë‚˜ëŠ” ì•ì— ì¶”ê°€ë¡œ `data-rehype-pretty-code-figure` attributeë¥¼ ì¶”ê°€í–ˆë‹¤.

```css title="src/app/globals.css"
[data-rehype-pretty-code-figure] pre {
  overflow-x: auto;
  padding: 1rem 0;
}
 
[data-rehype-pretty-code-figure] [data-line] {
  padding: 0 1.5rem;
}
```


### ì œëª© `title="..."`

`title="..."`ë¥¼ ì‘ì„±í•˜ë©´ `data-rehype-pretty-code-title` attributeë¥¼ ê°–ëŠ” `<figcaption>` íƒœê·¸ê°€ ìƒì„±ëœë‹¤.
ì´ attributeë¥¼ ë°”íƒ•ìœ¼ë¡œ cssì— ìì‹ ì´ ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
ë‚˜ëŠ” ì œëª©ê³¼ ì½”ë“œ ë¸”ëŸ­ì— borderì™€ radiusë¥¼ ì£¼ì—ˆê³  ìœ„ì—ì„œ ì„¤ì •í–ˆë˜ `[data-rehype-pretty-code-figure] pre`ì— borderì™€ marginë„ ì¶”ê°€ ì‘ì„±í–ˆë‹¤.


#### ë°©ë²•
~~~md
```js title="ì œëª© ë„£ê¸°"
  // do sth
```
~~~

#### ê²°ê³¼
```js title="ì œëª© ë„£ê¸°"
  // do sth
```

#### ì‹¤ì œ ì½”ë“œ
```html /data-rehype-pretty-code-figure/ /data-rehype-pretty-code-title/
<figure data-rehype-pretty-code-figure>
  <figcaption data-rehype-pretty-code-title data-language="js" data-theme="slack-dark">
    ì œëª© ë„£ê¸°
  </figcaption>
  <pre data-language="js">...</pre>
</figure>
```

```css title="src/app/globals.css" {4,5}#p {1}#m
[data-rehype-pretty-code-figure] pre {
  overflow-x: auto;
  padding: 1rem 0;
  border: 1px solid #8b8b8b;
  margin-top: 0;
}

[data-rehype-pretty-code-title] {
  font-size: 0.9rem;
  font-weight: 500;
  padding: 0.4rem 1rem;
  border: 1px solid #8b8b8b;
  border-top-left-radius: 0.4rem;
  border-top-right-radius: 0.4rem;
  border-bottom-style: none;
}

[data-rehype-pretty-code-title] + pre {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

.dark [data-rehype-pretty-code-title] {
  /* ë‹¤í¬ëª¨ë“œ ì„¤ì • ê´€ë ¨ */
}
```

### ë¼ì¸ ë„˜ë²„ ë¶€ì—¬ `showLineNumbers`

`showLineNumbers`ë¥¼ ì‘ì„±í•˜ë©´ ì½”ë“œ ë¸”ëŸ­ ì™¼ìª½ì— ë²ˆí˜¸ê°€ ìƒê¸°ë©° ì´ ë²ˆí˜¸ë“¤ì€ `[data-line]` íƒœê·¸ì— `before` ê°€ìƒ ì„ íƒìê°€ ì¶”ê°€ë˜ì–´ ë³´ì—¬ì§€ê²Œ ëœë‹¤.
[https://rehype-pretty-code.netlify.app/#line-numbers](https://rehype-pretty-code.netlify.app/#line-numbers)ì— css ì‘ì„± ë°©ë²•ì´ ë‚˜ì™€ìˆëŠ”ë°
í™ˆí˜ì´ì§€ì— ë‚˜ì™€ìˆëŠ” ì„¤ì •ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ `showLineNumbers`ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ëª¨ë“  ì½”ë“œ ë¸”ëŸ­ì— ë¼ì¸ ë„˜ë²„ê°€ ë¶€ì—¬ëœë‹¤.
ë•Œë¬¸ì— ë‚˜ëŠ” ìˆ«ìëŠ” ì¦ê°€í•˜ë˜ `showLineNumbers`ë¥¼ ì…ë ¥í–ˆì„ ë•Œë§Œ ìˆ«ìê°€ ë³´ì´ë„ë¡ cssë¥¼ ìˆ˜ì •í•˜ê³  ìŠ¤íƒ€ì¼ë§ë„ ìˆ˜ì •í–ˆë‹¤.

#### ë°©ë²•
~~~md
```js showLineNumbers
// line 1
// line 2
// line 3
```
~~~

#### ê²°ê³¼
```js showLineNumbers
// line 1
// line 2
// line 3
```

#### ì‹¤ì œ ì½”ë“œ
```html /::before/ /data-line-numbers/ /data-line/
<figure data-rehype-pretty-code-figure>
  <pre data-language="js">
    <code data-line-numbers data-language="js">
      <span data-line>
        ::before
        <span>// line 1</span>
      </span>
      <span data-line>...</span>
      <span data-line>...</span>
    </code>
  </pre>
</figure>
```

```css title="src/app/globals.css"
[data-rehype-pretty-code-figure] code {
  counter-reset: line;
}

[data-rehype-pretty-code-figure] [data-line]::before {
  counter-increment: line;
}

[data-line-numbers] > [data-line]::before {
  content: counter(line);

  display: inline-block;
  width: 1rem;
  margin-right: 1rem;
  text-align: right;
  color: gray;
}

[data-line-numbers-max-digits='2'] > [data-line]::before {
  width: 1rem;
}

[data-line-numbers-max-digits='3'] > [data-line]::before {
  width: 2rem;
}
```

### íŠ¹ì • ë¼ì¸ ë„˜ë²„ ë¶€ì—¬ `showLineNumbers{n}`

`showLineNumbers`ë§Œ ì‚¬ìš©í•˜ë©´ ì²«ë²ˆì§¸ ë¼ì¸ì€ 1ë¶€í„° ì‹œì‘í•˜ëŠ”ë° ë’¤ì— íŠ¹ì • ìˆ«ìë¥¼ ì…ë ¥í•  ê²½ìš° í•´ë‹¹ ìˆ«ìë¶€í„° ì‹œì‘ëœë‹¤.

#### ë°©ë²•
~~~md
```js showLineNumbers{9}
// line 1
// line 2
// line 3
```
~~~

#### ê²°ê³¼
```js showLineNumbers{9}
// line 1
// line 2
// line 3
```

### ë¼ì¸ ê°•ì¡° `{n}`

íŠ¹ì • ë¼ì¸ë§Œ ê°•ì¡°í•˜ê³  ì‹¶ì„ ë•Œ `{n}`ì„ ì‘ì„±í•œë‹¤. ê·¸ëŸ¬ë©´ í•´ë‹¹ ë¼ì¸ì— `data-highlighted-line` attributeê°€ ì¶”ê°€ë˜ëŠ”ë°,
ì´ attributeì— ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•˜ë©´ ëœë‹¤.

ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ë“¤ì„ ê°•ì¡°í•˜ê³  ì‹¶ì„ ê²½ìš° `{1-2}`, `{1, 2}`, `{1} {2}`ë“±ì˜ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

#### ë°©ë²•
~~~md
```js {2} 
// line 1
// line 2
// line 3
```
~~~

#### ê²°ê³¼
```js {2} 
// line 1
// line 2
// line 3
```

#### ì‹¤ì œ ì½”ë“œ
```html /data-highlighted-line/
<figure data-rehype-pretty-code-figure>
  <pre data-language="js">
    <code data-line-numbers data-language="js">
      <span data-line>...</span>
      <span data-line data-highlighted-line>...</span>
      <span data-line>...</span>
    </code>
  </pre>
</figure>
```

```css title="src/app/globals.css"
[data-highlighted-line] {
  background-color: #b3c0de40;
}
```

### ì»¤ìŠ¤í…€ ë¼ì¸ ê°•ì¡° `{n}#id`

ê¹ƒí—ˆë¸Œì—ì„œ PR ìƒì„± í›„ Files changedë¥¼ ë³´ë©´ ì¶”ê°€ëœ ë¼ì¸ì€ + ì´ˆë¡ìƒ‰, ì œê±°ëœ ë¼ì¸ì€ - ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë¼ì¸ì´ ê°•ì¡°ë˜ì–´ ìˆë‹¤.
ì´ì „ì—ëŠ” íŠ¹ì • ë¼ì¸ì—ì„œ ì½”ë“œ ì˜†ì— ì£¼ì„ìœ¼ë¡œ `// âœ¨`ë¥¼ ì‘ì„±í•˜ì—¬ í•´ë‹¹ ë¼ì¸ì—ì„œ ë³€í™”ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì„¤ëª…í•˜ê³¤ í–ˆëŠ”ë°,
ì´ ê¸°ëŠ¥ì„ ë„ì…í•˜ë©´ì„œ ìœ„ì™€ ê°™ì€ ë²ˆê±°ë¡œì›€ì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ğŸ¥²
ì´ì²˜ëŸ¼ ì—¬ëŸ¬ ë¼ì¸ì„ ë‹¤ì–‘í•˜ê²Œ ê°•ì¡°í•  ë•ŒëŠ” íŠ¹ì • ë¼ì¸ì— idë¥¼ ë¶€ì—¬í•˜ì—¬ ê° idë§ˆë‹¤ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì„ ì¤„ ìˆ˜ ìˆë‹¤.

#### ë°©ë²•
~~~md
```js {2}#minus {3}#plus
// line 1
// line 2
// line 3
```
~~~

#### ê²°ê³¼
```js {2}#minus {3}#plus
// line 1
// line 2
// line 3
```

#### ì‹¤ì œ ì½”ë“œ
```html /data-highlighted-line-id="minus"/ /data-highlighted-line-id="plus"/
<figure data-rehype-pretty-code-figure>
  <pre data-language="js">
    <code data-line-numbers data-language="js">
      <span data-line>...</span>
      <span data-line data-highlighted-line data-highlighted-line-id="minus">...</span>
      <span data-line data-highlighted-line data-highlighted-line-id="plus">...</span>
    </code>
  </pre>
</figure>
```

```css title="src/app/globals.css"
[data-highlighted-line-id='minus'] {
  position: relative;
  background-color: #fcdcdc;
}

[data-highlighted-line-id='minus']::before {
  content: '-';
  position: absolute;
  top: 0;
  left: 0;
  font-weight: 500;
  padding-left: 0.3rem;
  color: #834444;
}

[data-highlighted-line-id='plus'] {
  position: relative;
  background-color: #3c6c49;
}

[data-highlighted-line-id='plus']::before {
  content: '+';
  position: absolute;
  top: 0;
  left: 0;
  font-weight: 500;
  padding-left: 0.3rem;
  color: #43ac5c;
}
```

### ë‹¨ì–´ ê°•ì¡° `/word/`

íŠ¹ì • ë‹¨ì–´ì˜ ì¶”ê°€, ì‚­ì œ, ë³€ê²½ ë“±ì„ ì•Œë ¤ì£¼ê³  ì‹¶ì„ ë•Œ `/word/`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¨ì–´ë§Œì„ ê°•ì¡°í•  ìˆ˜ ìˆë‹¤. 
ê°•ì¡°í•˜ê³  ì‹¶ì€ ë‹¨ì–´ë¥¼ wordì— ì ìœ¼ë©´ `data-highlighted-chars` attributeê°€ ì¶”ê°€ë˜ê³  ë‹¨ì–´ê°€ ê°•ì¡°ëœë‹¤.

í•´ë‹¹ ë‹¨ì–´ê°€ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•  ê²½ìš° ë””í´íŠ¸ë¡œ í•´ë‹¹ ë‹¨ì–´ê°€ ëª¨~ë‘ ê°•ì¡°ë˜ëŠ”ë°, ë§Œì•½ ë”± í•œ ê°œë§Œ ê°•ì¡°í•˜ê³  ì‹¶ì„ ê²½ìš°
ë‹¨ì–´ì˜ ìˆœì„œë¥¼ ë’¤ì— ì ì–´ì£¼ë©´ ëœë‹¤.

#### ë°©ë²•
~~~md
```js /apple/ /banana/ /on/1
const word = "apple banana orange banana pineapple melon lemon";
```
~~~

#### ê²°ê³¼
```js /apple/ /banana/ /on/1
const word = "apple apple apple banana orange banana pineapple melon on on lemon on";
```
