---
title: ì´ë²¤íŠ¸ ë£¨í”„ì˜ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì™€ íƒœìŠ¤í¬ íì˜ ì°¨ì´ì 
description: ë‘ íƒœìŠ¤í¬ íì˜ ì°¨ì´ì ì€? ğŸ§
date: 2024-05-06
series: JavaScript
tags: [javascript, ì´ë²¤íŠ¸ë£¨í”„, íƒœìŠ¤í¬ í, ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í]
isPublished: true
imgUrl: compare-two-task-queues.jpeg
---

## ë“¤ì–´ê°€ê¸° ì „ì—

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œ ì–¸ì–´ë¡œ í•œ ë²ˆì— í•˜ë‚˜ì˜ ë™ì‘ë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ë°, 
ì´ëŸ° í™˜ê²½ì—ì„œ ë™ì‹œì„±ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë“±ì¥í•œ ë§¤ì»¤ë‹ˆì¦˜ì´ ì´ë²¤íŠ¸ ë£¨í”„ë‹¤.

ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì½œìŠ¤íƒ, ë¸Œë¼ìš°ì € ë Œë”ë§, ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í, íƒœìŠ¤í¬ í\(= ë§¤í¬ë¡œ íƒœìŠ¤í¬ íë¼ê³ ë„ í•œë‹¤)ë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ë©°
ê° ì˜ì—­ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³  ì´ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ì¼ì¢…ì˜ ìˆœí™˜ êµ¬ì¡°ë¥¼ í˜•ì„±í•œë‹¤.

ì´ ì¤‘ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì™€ íƒœìŠ¤í¬ íì˜ ì°¨ì´ì ì„ ì•Œì•„ë³´ê³ ì í•œë‹¤.

## íƒœìŠ¤í¬ í vs ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í

ë‘˜ ë‹¤ í(Queue) ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, 
íƒœìŠ¤í¬ íëŠ” Web APIs ì¤‘ setTimeout, setInterval, ì´ë²¤íŠ¸ ë“±ì˜ ì½œë°± í•¨ìˆ˜ê°€ ëŒ€ê¸°í•˜ëŠ” ê³µê°„ì´ê³ ,
ë°˜ë©´ì— ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íëŠ” í”„ë¡œë¯¸ìŠ¤ì™€ Mutation Observerì˜ ì½œë°± í•¨ìˆ˜ê°€ ëŒ€ê¸°í•˜ëŠ” ê³µê°„ì´ë‹¤.

[MDN](https://developer.mozilla.org/ko/docs/Web/API/HTML_DOM_API/Microtask_guide#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%ED%83%9C%EC%8A%A4%ED%81%AC)ì—ëŠ” ë‘ íƒœìŠ¤í¬ íëŠ” ë¹„ìŠ·í•˜ì§€ë§Œ,
ì²˜ë¦¬ë°©ë²•ì´ ë‹¤ë¥´ë‹¤ê³  ì í˜€ìˆë‹¤.

> ìš°ì„ , ë§¤ë²ˆ íƒœìŠ¤í¬ê°€ ì¢…ë£Œë  ë•Œë§ˆë‹¤ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì´ íƒœìŠ¤í¬ê°€ ë‹¤ë¥¸ JavaScript ì½”ë“œë¡œ í†µì œê¶Œì„ ë„˜ê¸°ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. 
> ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ëª¨ë“  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. 
> ê³§ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íëŠ”, ì´ë²¤íŠ¸ ì²˜ë¦¬ì™€ ê¸°íƒ€ ì½œë°± ì‹¤í–‰ ì´í›„ë§ˆë‹¤, ì¦‰ ì´ë²¤íŠ¸ ë£¨í”„ì˜ í•œ ì£¼ê¸°ì— ì—¬ëŸ¬ ë²ˆ ì²˜ë¦¬ë©ë‹ˆë‹¤.
> ë‘ ë²ˆì§¸ë¡œ, ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ê°€ queueMicrotask()ë¥¼ í†µí•´ ë” ë§ì€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ íì— ì¶”ê°€í•˜ëŠ” ê²½ìš°, 
> ì´ë ‡ê²Œ ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ë˜í•œ ë‹¤ìŒ íƒœìŠ¤í¬ ì‹¤í–‰ ì „ì— ëª¨ë‘ ì‹¤í–‰ë©ë‹ˆë‹¤. 
> ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ëŒ€ê¸°ì—´ì´ í…… ë¹Œ ë•Œê¹Œì§€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ê³„ì† í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

> ê²½ê³ : ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ìŠ¤ìŠ¤ë¡œ ë” ë§ì€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ íì— ë„£ì„ ìˆ˜ ìˆìœ¼ë©° íê°€ ë¹Œ ë•Œê¹Œì§€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì²˜ë¦¬ëŠ” ë©ˆì¶”ì§€ ì•Šê¸° ë•Œë¬¸ì—, 
> ì´ë²¤íŠ¸ ë£¨í”„ê°€ ëì—†ëŠ” ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì²˜ë¦¬ ë£¨í”„ì— ë¹ ì§ˆ í˜„ì‹¤ì ì¸ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. 
> ì¬ê·€ì ìœ¼ë¡œ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì¶”ê°€í•  ë•Œ ì£¼ì˜í•˜ì„¸ìš”.

ìœ„ ë‚´ìš©ê³¼ ê°™ì´ ì í˜€ìˆëŠ”ë° ì§ì ‘ ì½”ë“œë¥¼ ì‘ì„±í•´ì„œ ë¬´ìŠ¨ ì°¨ì´ê°€ ìˆëŠ”ì§€ ì‚´í´ë³´ì.

## íƒœìŠ¤í¬ í

íƒœìŠ¤í¬ íì— ëŒ€í‘œì ìœ¼ë¡œ í¬í•¨ë˜ëŠ” ì½œë°± í•¨ìˆ˜ë¡œëŠ” setTimeout APIê°€ ìˆëŠ”ë°, setTimeoutì„ ë¬´í•œì •ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ì¬ê·€ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ
íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ë¥¼ ìŒ“ì•„ë³´ì.

```js
const macroLoop = () => {
  console.log('Macro task queue with setTimeout');
  setTimeout(() => {
    console.log('setTimeout');
    macroLoop();
  }, 0);
};
```

ìœ„ì™€ ê°™ì´ setTimeoutì´ ë¬´í•œì • í˜¸ì¶œë˜ëŠ” ì¬ê·€ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤. 
macroLoopê°€ ì‹¤í–‰ë˜ë©´ í•´ë‹¹ í•¨ìˆ˜ê°€ ì½œìŠ¤íƒì— ì¶”ê°€ë˜ê³ , setTimeout ì½œë°± í•¨ìˆ˜ëŠ” íƒœìŠ¤í¬ íì— ì¶”ê°€ëœë‹¤.
ì´í›„ì— macroLoopê°€ ì‹¤í–‰ì„ ë§ˆì¹˜ê³  ì½œìŠ¤íƒì—ì„œ ì œê±°ë˜ë©´ setTimeoutì˜ ì½œë°± í•¨ìˆ˜ì¸ `console.log('setTimeout'); macroLoop();`ê°€
ì½œìŠ¤íƒìœ¼ë¡œ ì˜®ê²¨ì ¸ ì‹¤í–‰ë˜ê³  ë‹¤ì‹œ macroLoop í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ì„œ ìœ„ ì‘ì—…ì„ ë°˜ë³µí•˜ê²Œ ëœë‹¤.

hover cssê°€ ì ìš©ëœ ë²„íŠ¼ì„ ì¶”ê°€ë¥¼ í•˜ê³ , ìœ„ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœ í›„ ë²„íŠ¼ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë†“ìœ¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

### ê²°ê³¼

![íƒœìŠ¤í¬ í ë¬´í•œë£¨í”„](https://github.com/yunjeoming/yuns-blog/assets/76480300/d6359ac5-7c20-450a-aeb9-c019bb5fc27c)

ë²„íŠ¼ì˜ hover íš¨ê³¼ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ë°
ì´ê²ƒì€ íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ê°€ ê³„ì† ìŒ“ì´ëŠ” ì™€ì¤‘ì— ì´ë²¤íŠ¸ ë£¨í”„ê°€ ë¸Œë¼ìš°ì €ë¥¼ ê¾¸ì¤€íˆ ë Œë”ë§ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

## ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í

ì´ì œëŠ” ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íë¥¼ ì‚´í´ë³´ì.

ìœ„ì™€ ë¹„ìŠ·í•œ ì¬ê·€ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ë˜ setTimeoutì´ ì•„ë‹Œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë¬´í•œì •ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ê°€ ìŒ“ì´ë„ë¡ í•œë‹¤.

```js
const microLoop = () => {
  console.log('Micro task queue with Promise');
  Promise.resolve().then(() => {
    console.log('Promise');
    microLoop();
  });
};
```

ìœ„ ì½”ë“œì—ì„œ microLoopê°€ ì‹¤í–‰ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ì˜ thenì— ë“±ë¡ëœ ì½œë°± í•¨ìˆ˜ëŠ” ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ì¶”ê°€ëœë‹¤. 
microLoopê°€ ì½œìŠ¤íƒì—ì„œ ì œê±°ë˜ë©´ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ìˆë˜ ì½œë°± í•¨ìˆ˜ê°€ ì½œìŠ¤íƒìœ¼ë¡œ ì´ë™ë˜ì–´ ì‹¤í–‰ëœë‹¤.
ì´í›„ì— microLoop í•¨ìˆ˜ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©´ì„œ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ë‹¤ì‹œ ì½œë°± í•¨ìˆ˜ê°€ ì¶”ê°€ëœë‹¤.

ìœ„ ì¬ê·€ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ, ì•„ê¹Œì™€ ê°™ì€ ë²„íŠ¼ì— ë§ˆìš°ìŠ¤ë¥¼ ë‹¤ì‹œ ì˜¬ë ¤ë³´ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

### ê²°ê³¼
![ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í ë¬´í•œë£¨í”„](https://github.com/yunjeoming/yuns-blog/assets/76480300/3029ea38-33ee-417c-9577-b188c0908a46)

íƒœìŠ¤í¬ íì™€ëŠ” ë‹¤ë¥´ê²Œ ë²„íŠ¼ì˜ hover cssê°€ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

ì¦‰, ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì¸ë° ì™œ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íëŠ” íƒœìŠ¤í¬ íì™€ ë‹¤ë¥¸ ë™ì‘ì„ í• ê¹Œ?

## ì°¨ì´ì 

ìœ„ MDNì—ì„œ `ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íëŠ” ì´ë²¤íŠ¸ ë£¨í”„ì˜ í•œ ì£¼ê¸°ì— ì—¬ëŸ¬ ë²ˆ ì²˜ë¦¬ë©ë‹ˆë‹¤.`,
`ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ëŒ€ê¸°ì—´ì´ í…… ë¹Œ ë•Œê¹Œì§€ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ë¥¼ ê³„ì† í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.`ë¼ê³  í•œë‹¤.

ê·¸ëŸ¼, íƒœìŠ¤í¬ íì™€ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íëŠ” ì •í™•í•˜ê²Œ ë¬´ì—‡ì´ ë‹¤ë¥¸ê±¸ê¹Œ?

ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ê° ì˜ì—­ì„ ìˆœíšŒí•˜ë©´ì„œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆëŠ”ë°
ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ê°€ ìˆì„ ê²½ìš°ì— **ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë£¨í”„ë¥¼ ëŒì§€ ì•Šê³  ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ë¨¸ë¬¼ë©´ì„œ ì½œë°± í•¨ìˆ˜ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì½œìŠ¤íƒìœ¼ë¡œ ì˜®ê¸´ë‹¤.**
ë°˜ë©´ì—, íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ê°€ ìˆì„ ê²½ìš° **ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë£¨í”„ë¥¼ ëŒë©´ì„œ íƒœìŠ¤í¬ íì˜ ì½œë°± í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì½œìŠ¤íƒìœ¼ë¡œ ì˜®ê¸´ë‹¤.**

ì¦‰, ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì— ì½œë°± í•¨ìˆ˜ê°€ ë‚¨ì•„ ìˆìœ¼ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë£¨í”„ë¥¼ ìˆœíšŒí•˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì—ë§Œ ë¨¸ë¬¼ëŸ¬ ìˆê¸° ë•Œë¬¸ì— ì´ ê³¼ì •ì—ì„œ ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§ë˜ì§€ ì•Šê³ 
ë²„íŠ¼ì˜ hover css íš¨ê³¼ê°€ ì ìš© ë˜ì§€ ì•ŠëŠ”ë‹¤.

MDN ë¬¸ì„œì— ì–¸ê¸‰ëœ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ ì²˜ë¦¬ ë£¨í”„ì˜ ìœ„í—˜ì„±ì€ ì´ì™€ ê°™ì€ ë™ì‘ ë°©ì‹ìœ¼ë¡œ ì¸í•œ ê²ƒìœ¼ë¡œì¨
ëŠì„ì—†ì´ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•˜ë©° ë£¨í”„ë¥¼ ìˆœíšŒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

## ë‘˜ ë‹¤ ìˆì„ ê²½ìš°ì—”? ğŸ§

ë§Œì•½ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì™€ íƒœìŠ¤í¬ í ë‘˜ ë‹¤ ì½œë°± í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì–´ëŠ ì½œë°± í•¨ìˆ˜ë¥¼ ë¨¼ì € ì²˜ë¦¬í• ê¹Œ?
íŠ¹ì • ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì™€ íƒœìŠ¤í¬ íì˜ ì½œë°± í•¨ìˆ˜ê°€ ìŒ“ì´ê²Œ í•˜ë˜, ìˆœì„œë¥¼ ë§ˆêµ¬ ì„ì–´ë†“ì•„ë³´ì.

ì•„ë˜ì™€ ê°™ì´ setTimeoutê³¼ í”„ë¡œë¯¸ìŠ¤ë¥¼ ê°ê° 3ê°œì”© ë§Œë“¤ì–´ ë†“ê³  handleClickì´ ì‹¤í–‰ë˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

```js
const handleClick = () => {
  console.log('handle click button!');
  setTimeout(() => {
    console.log('setTimeout1');
  }, 0);
  Promise.resolve().then(() => {
    console.log('Promise1');
  });
  setTimeout(() => {
    console.log('setTimeout2');
  }, 0);
  Promise.resolve().then(() => {
    console.log('Promise2');
  });
  Promise.resolve().then(() => {
    console.log('Promise3');
  });
  setTimeout(() => {
    console.log('setTimeout3');
  }, 0);
};
```

### ê²°ê³¼

![ë™ì‹œì—](https://github.com/yunjeoming/yuns-blog/assets/76480300/75fcb207-4bbd-4f7c-a417-88b9e2763755)

ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íì˜ ì½œë°± í•¨ìˆ˜ê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³  íƒœìŠ¤í¬ íì˜ ì½œë°± í•¨ìˆ˜ê°€ ë‚˜ì¤‘ì— ì‹¤í–‰ëœë‹¤. ğŸ˜‹


### ì°¸ê³ 
[https://developer.mozilla.org/ko/docs/Web/API/HTML_DOM_API/Microtask_guide](https://developer.mozilla.org/ko/docs/Web/API/HTML_DOM_API/Microtask_guide)
