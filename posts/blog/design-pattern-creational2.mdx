---
title: λ””μμΈ ν¨ν„΄ - μƒμ„± ν¨ν„΄ (2) (feat. ν©ν† λ¦¬ λ©”μ„λ“, μ¶”μƒ ν©ν† λ¦¬)
description: μƒμ„± ν¨ν„΄μ ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄, μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄ ν•™μµν•κΈ°
date: 2023-09-24
series: Design Pattern
tags: [λ””μμΈν¨ν„΄, μƒμ„±, ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄, μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄, design pattern, factory method, abstract factory]
imgUrl: design-pattern-creational2.jpeg
isPublished: true
---

μ΄μ „ νΈ \) [λ””μμΈ ν¨ν„΄ - μƒμ„± ν¨ν„΄ (1) (feat. μ‹±κΈ€ν†¤, λΉλ”, ν”„λ΅ν† νƒ€μ…)](./design-pattern-creational1)

μ΄μ–΄μ„ ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄, μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄μ— λ€ν•΄ μ•μ•„λ³΄μ.

## ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄ \(Factory Method Pattern\)

ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ€ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” μ±…μ„μ„ μ¶”μƒ λ©”μ„λ“λ΅ κ°μ‹Έκ³  κµ¬μ²΄μ μΌλ΅ μ–΄λ–¤ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤μ§€λ” μ„λΈ ν΄λμ¤κ°€ μ •ν•λ„λ΅ ν•λ‹¤.
ν©ν† λ¦¬ μ—­ν• μ„ ν•λ” μΈν„°νμ΄μ¤λ¥Ό ν•λ‚ λ§λ“¤κ³  κµ¬ν„μ΄ ν•„μ”ν• κ²ƒμ€ ν•μ„ ν΄λμ¤μ—μ„ κµ¬μ²΄μ μΌλ΅ λ§λ“ λ‹¤.
μ΄ λ•, κΈ°μ΅΄ μ½”λ“λ” κ±΄λ“λ¦¬μ§€ μ•κ³  ν©ν† λ¦¬μ—μ„ μƒλ΅μ΄ κ³µμ •\(ν™•μ¥μ—λ” μ—΄λ ¤ μμ–΄μ•Ό ν•¨\)μ„ μ¶”κ°€ν•  μ μμ–΄μ•Ό ν•λ‹¤.

### μ¥μ κ³Ό λ‹¨μ 

ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ€ κ°μ²΄μ§€ν–¥ μ›μΉ™ μ¤‘ κ°λ°© νμ‡„ μ›μΉ™μ„ λ§μ΅±ν•λ” ν¨ν„΄μ΄λ‹¤.
ν©ν† λ¦¬ λ©”μ„λ“μ μ¥μ μ€ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” κΈ°μ΅΄ λ΅μ§μ„ κ±΄λ“λ¦¬μ§€ μ•κ³  μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μ—¬λ¬ λ°©λ²•μΌλ΅ μƒμ„±ν•μ—¬ ν™•μ¥ν•  μ μλ‹¤.

λ°λ©΄μ— λ‹¨μ μ€ κ° μ—­ν• μ΄ μ¦κ°€ν•μ—¬ κ΄€λ¦¬ν•΄μ•Όν•  ν΄λμ¤κ°€ λ§μ•„μ§„λ‹¤.

> κ°λ°© νμ‡„ μ›μΉ™μ΄λ€? ν™•μ¥μ—λ” μ—΄λ ¤ μκ³  λ³€κ²½μ—λ” λ‹«ν€ μλ‹¤λ” μλ―Έλ΅, κΈ°μ΅΄ μ½”λ“λ¥Ό μμ •ν•μ§€ μ•μΌλ©΄μ„ ν•„μ”ν• κΈ°λ¥μ„ μ¶”κ°€ν•΄ κ°€λ” κ²ƒ

### μμ  μ½”λ“

```ts
class Ship {
  constructor(private name: string, private logo: string, private color: string) {
    this.name = name;
    this.logo = logo;
    this.color = color;
  }
}

class WhiteShip extends Ship {
  constructor() {
    super("white ship", "πΆ", "white");
  }
}

// κµ¬ν„κ³Ό μ¶”μƒν™”λ¥Ό κ°™μ΄ μ‚¬μ©ν•κΈ° μ„ν•΄ abstract classλ΅ μ‘μ„±
abstract class ShipFactory {
  orderShip(name: string, email: string): Ship {
    this.validate(name, email);     // μ΄λ¦„, μ΄λ©”μΌ μ ν¨μ„± κ²€μ‚¬
    this.prepareFor(name);          // μ¤€λΉ„
    const ship = this.createShip(); // μ μ‘μ¤‘
    this.sendEmail(email);          // μ™„λ£ μ•λ¦Ό
    return ship;
  }

  private validate(name: string, email: string) {
    if (!name) {
      throw new Error("μ΄λ¦„μ΄ μ—†μµλ‹λ‹¤.");
    }
    if (!email) {
      throw new Error("μ΄λ©”μΌ μ£Όμ†κ°€ μ—†μµλ‹λ‹¤.");
    }
  }

  private prepareFor(name: string) {
    console.log(`${name} λ§λ“¤κ³  μμµλ‹λ‹¤..`)
  }
  
  private sendEmail(email: string) {
    console.log(`${email} μ΄λ©”μΌ μ „μ†΅`)
  }

  // ν•μ„ ν΄λμ¤μ—μ„ κµ¬ν„ν•λ„λ΅ ν•¨
  abstract createShip(): Ship;
}

class WhiteShipFactory extends ShipFactory {
  createShip(): Ship {
    return new WhiteShip();
  }
}

const shipFactory = new WhiteShipFactory();
const ship = shipFactory.orderShip("whiteShip", "abc@example.com");
```

μ„ μμ  μ½”λ“μ—μ„ ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ„ μ‚¬μ©ν•μ—¬ `μ–΄λ– ν• μ»¬λ¬μ λ°°(Ship)λ¥Ό λ§λ“¤μ§€ ν©ν† λ¦¬ ν΄λμ¤(FactoryShip)μ— μ„μ„`ν•μ—¬ λ°°μ μ»¬λ¬λ¥Ό λ‹¤μ–‘ν•κ² λ§λ“¤μ–΄ λ‚Ό μ μλ‹¤.
ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ€ μ΄μ²λΌ κ°μ²΄ μƒμ„±μ„ μ¶”μƒν™”ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ κµ¬μ²΄μ μΈ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•λ„λ΅ ν•λ‹¤.

## μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄

μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄μ€ μ„λ΅ κ΄€λ ¨μλ” μ—¬λ¬ κ°μ²΄λ¥Ό ν•λ‚λ΅ λ¬¶μ–΄ μ¶”μƒν™”ν•κ³  μ΄λ¥Ό ν©ν† λ¦¬ κ°μ²΄μ—μ„ μ‚¬μ©ν•λ” κ²ƒμ΄λ‹¤.
ν©ν† λ¦¬ κ°μ²΄μ—μ„ νΉμ • κ°μ²΄μ— λ€ν• κµ¬ν„λ¶€λ¥Ό κ°μ¶”κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„λ” ν©ν† λ¦¬ κ°μ²΄λ¥Ό λ” μ¤‘μ μ μΌλ΅ λ°”λΌλ³΄κ² λλ‹¤.

### μ¥μ κ³Ό λ‹¨μ 

μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄μ μ¥μ μ€ μ ν’\(λ¶€ν’\)μ„ ν•λ‚λ΅ λ¬¶μ–΄λ‚΄κΈ° λ•λ¬Έμ— μ΄ μ ν’μ κ΄€λ¦¬μ™€ ν™•μ¥μ΄ μ©μ΄ν•λ‹¤.
λν•, κ°μ²΄ μ§€ν–¥ μ›μΉ™μ—μ„ κΈ°λ¥μ΄ μ¶”κ°€λ  λ• κΈ°μ΅΄ μ½”λ“λ¥Ό μμ •ν•μ§€ μ•μ•„λ„ λλ” κ°λ°© νμ‡„ μ›μΉ™μ„ μ§€ν‚¤λ©°
κ΄€λ ¨ ν΄λμ¤λ¥Ό ν•λ‚λ΅ λ¬¶μ–΄λ†¨κΈ° λ•λ¬Έμ— λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ§€ν‚¨λ‹¤κ³ λ„ λ³Ό μ μλ‹¤.

λ‹¨μ μΌλ΅λ” κΈ°λ¥μ΄ μ¶”κ°€λ  λ•λ§λ‹¤ κ΄€λ¦¬ν•  ν΄λμ¤κ°€ λ§μ•„μ§€λ” κ²ƒμ΄λ‹¤. 

### μμ  μ½”λ“

```ts
interface Anchor {}

interface Deck {}

// λ¨λ“  λ¶€ν’μ„ ν•λ‚λ΅ λ¬¶μ–΄λ‚Έ μΈν„°νμ΄μ¤
interface ShipPartsFactory {
  createAnchor(): Anchor;
  createDeck(): Deck;
}

class WhiteAnchor implements Anchor {}

class WhiteDeck implements Deck {}

class WhiteShipPartsFactory implements ShipPartsFactory {
  createAnchor(): Anchor {
    return new WhiteAnchor();
  }

  createDeck(): Deck {
    return new WhiteDeck();
  }
}

class WhiteShipFactory extends ShipFactory {
  constructor(private shipPartsFactory: ShipPartsFactory) {
    this.shipPartsFactory = shipPartsFactory
  }

  createShip(): Ship {
    const ship = new WhiteShip();
    ship.setAnchor(this.shipPartsFactory.createAnchor());
    ship.setDeck(this.shipPartsFactory.createDeck());

    // ship.setAnchor(new WhiteAnchor());
    // ship.setDeck(new WhiteDeck());
    
    return ship;
  }
}

class Ship {
  private anchor: Anchor | null = null;
  private deck: Deck | null = null;

  constructor(private name: string, private logo: string, private color: string) {
    this.name = name;
    this.logo = logo;
    this.color = color;
  }

  // κµ¬μ²΄ ν΄λμ¤ WhiteAnchor λ€μ‹  μΈν„°νμ΄μ¤ Anchorμ— μμ΅΄
  setAnchor(anchor: Anchor) {
    this.anchor = anchor;
  }

  // κµ¬μ²΄ ν΄λμ¤ WhiteDeck λ€μ‹  μΈν„°νμ΄μ¤ Deckμ— μμ΅΄
  setDeck(deck: Deck) {
    this.deck = deck;
  }
}

const shipFactory = new WhiteShipFactory(new WhiteShipPartsFactory());
const ship = shipFactory.createShip();
```

`createShip()`μ—μ„ λ‹»κ³Ό κ°‘νμ„ λ§λ“¤ λ• νΉμ • κµ¬ν„μ²΄λ¥Ό μ£Όμ…ν•λ” λ€μ‹  μΈν„°νμ΄μ¤ `ShipPartsFactory`μ κµ¬ν„μ²΄λ¥Ό μ§μ ‘ μ£Όμ…ν•λ‹¤.

## ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄ vs μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄

λ‘ ν¨ν„΄ λ¨λ‘ κµ¬μ²΄μ μΈ κ°μ²΄ μƒμ„± κ³Όμ •μ„ μ¶”μƒν™”ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” κ²ƒμ€ κ°™μ§€λ§ μ΄μ κ³Ό λ©μ μ΄ λ‹¤λ¥΄λ‹¤.

`ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄`μ€ ν©ν† λ¦¬λ¥Ό `κµ¬ν„(inheritance)`ν•λ” λ°©λ²•μ— μ΄μ μ„ λ‘κ³  κ°μ²΄ μƒμ„± κ³Όμ •μ„ ν•μ„ ν΄λμ¤ λλ” κµ¬μ²΄μ μΈ ν΄λμ¤μ— μ„μ„ν•λ” κ²ƒμ΄ λ©μ μ΄λ‹¤.
μ›ν•λ” κ°μ²΄λ¥Ό ν•μ„ ν΄λμ¤ λλ” κµ¬μ²΄μ μΈ ν΄λμ¤κ°€ λ§λ“¤μ–΄ ν•λ‚μ μ ν’μ„ κµ¬ν„ν•λ” κ²ƒμ— μ¤‘μ μ„ λ‘”λ‹¤.

`μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄`μ€ ν©ν† λ¦¬λ¥Ό `μ‚¬μ©(composition)`ν•λ” λ°©λ²•μ— μ΄μ μ„ λ‘κ³  κ΄€λ ¨μλ” μ—¬λ¬ κ°μ²΄λ“¤μ„ κµ¬μ²΄μ μΈ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•κ³  λ§λ“¤ μ μκ² ν•λ” κ²ƒμ΄ λ©μ μ΄λ‹¤.
μ ν’ μμ²΄λ³΄λ‹¨ μ ν’μ„ κµ¬μ„±ν•κ³  μλ” μΆ…μ†ν’μ„ μ¶”μƒν™”ν•κ³  κµ¬ν„ν•λ” κ²ƒμ— μ¤‘μ μ„ λ‘”λ‹¤.

### μ°Έκ³ 

[μ½”λ”©μΌλ΅ ν•™μµν•λ” GoFμ λ””μμΈ ν¨ν„΄ - λ°±κΈ°μ„ ](https://www.inflearn.com/course/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4)<br/>
[ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄ vs μ¶”μƒ ν©ν† λ¦¬ ν¨ν„΄ - μ¤νƒμ¤λ²„ν”λ΅μ°](https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns)