---
title: Next.js ë¸”ë¡œê·¸ì— mdx ì ìš©í•˜ê¸°
description: Next.jsë¡œ ë§Œë“  ë¸”ë¡œê·¸ì— mdx ì ìš©í•˜ê¸°
date: 2023-06-09
category: Next.js Blog
tags: [mdx, next.js, next.jsë¸”ë¡œê·¸, prose, contentlayer, contentlayer.generated]
imgUrl: make-blog-post-with-mdx.jpeg
isPublished: true
---

[mdx](https://mdxjs.com/docs/what-is-mdx/)ëŠ” `Markdown with JSX`ì˜ ì•½ìë‹¤. mdx íŒŒì¼ì—ì„œëŠ” íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ import í•˜ê±°ë‚˜ íŒŒì¼ ë‚´ë¶€ì—ì„œ JSX ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ì˜ ì½”ë“œë¥¼ mdx íŒŒì¼ì— ë°”ë¡œ ì¶”ê°€í•˜ë©´ ì¶œë ¥ëœ ê²°ê³¼ëŠ” ê·¸ ì•„ë˜ í™”ë©´ê³¼ ê°™ë‹¤.

```mdx
<div>
  <h4>JSX ë¬¸ë²• ë°”ë¡œ ì‚¬ìš©í•˜ê¸°!</h4>
  > ì¸ìš©ê³¼ ì¤‘ê´„í˜¸ ({1 + 1})
</div>
```

ì¶œë ¥ ì˜ˆì œ ğŸ‘‡

<div>
  <h4>JSX ë¬¸ë²• ë°”ë¡œ ì‚¬ìš©í•˜ê¸°!</h4>
  > ì¸ìš©ê³¼ ì¤‘ê´„í˜¸ ({1 + 1})
</div>

## mdx íŒŒì¼ ìƒì„±

mdxë¥¼ ì €ì¥í•  íŠ¹ì • í´ë”ë¥¼ ìƒì„±í•œ í›„ ì•ˆì— mdx íŒŒì¼ì„ ì‘ì„±í•œë‹¤.
mdx íŒŒì¼ì—” \--- dash 3ê°œë¡œ metadataë¥¼ ì €ì¥í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íŒŒì¼ì˜ ìµœìƒë‹¨ì— metadata ë˜í•œ ê°™ì´ ì ì–´ì¤€ë‹¤.

## mdx ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

[Next.js ê³µì‹ë¬¸ì„œ](https://nextjs.org/docs/app/building-your-application/configuring/mdx)ì—ì„œ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜ í•œë‹¤.
ì²˜ìŒì—” `Mdx-remote` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í–ˆëŠ”ë°, ì¶”í›„ mdx íŒŒì¼ì˜ íƒ€ì…ì„ ì •ì˜í•  ìˆ˜ ìˆê³  async, await í‚¤ì›Œë“œ ì—†ì´ ë°”ë¡œ ë¹Œë“œëœ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆëŠ” `Contentlayer`ë¥¼ ì„¤ì¹˜í•˜ì—¬ mdx íŒŒì¼ì„ ë¶ˆëŸ¬ì™”ë‹¤.

```shell
> yarn add contentlayer next-contentlayer
```

## mdx íŒŒì¼ ì½ê³  ë¶ˆëŸ¬ì˜¤ê¸°

[Contentlayer ì‹œì‘í•˜ê¸°](https://www.contentlayer.dev/docs/getting-started-cddd76b7)ë¥¼ ì°¸ê³ í•˜ì—¬ ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì—ˆë‹¤. 

`contentlayer.config.ts`ì—ì„œ ì •ì˜í•œ íƒ€ì…ì„ í”„ë¡œì íŠ¸ì—ì„œ ê·¸ëŒ€ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ğŸ‘

ì„¤ì •ëœ ê²½ë¡œì— íŒŒì¼ì„ ìƒì„±í•˜ë©´ contentlayer/generatedê°€ ìƒì„±ë˜ê³ , ì´í›„ nextê°€ ì‹¤í–‰ë˜ì–´ ìƒì„±ëœ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤.

```tsx
import { allPosts, Post } from 'contentlayer/generated'
```

### ğŸ“ contentlayer/generated ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ

Contentlayerì˜ ê³µì‹ë¬¸ì„œì™€ ëª¨ë“  ê±¸ ë˜‘ê°™ì´ í–ˆëŠ”ë° `contentlayer/generated`ê°€ ìƒì„±ë˜ì§€ ì•Šì•„ì„œ ìœ„ì˜ \{ *allPosts, Post* \}ê°€ import ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìƒê²¼ë‹¤.

êµ¬ê¸€ë§ì„ í•´ë³´ë‹ˆ next ë¿ë§Œ ì•„ë‹ˆë¼ contentlayerë¥¼ ë³„ë„ë¡œ ì‹¤í–‰í•´ì•¼ í–ˆë‹¤. ë‚˜ëŠ” ê°œë°œ ë„ì¤‘ì— ì¶”ê°€ë˜ëŠ” íŒŒì¼ ë˜í•œ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ê¸° ìœ„í•´ ê°œë°œ í™˜ê²½ì—ì„œ contentlayer devë„ ì‹¤í–‰ë˜ë„ë¡ ìŠ¤í¬ë¦½íŠ¸ì— ê°™ì´ ì •ì˜í–ˆë‹¤.

```json
"scripts": {
    "dev": "contentlayer dev & next dev",
  },
```

## mdx íŒŒì¼ì˜ metadata ê°€ì ¸ì˜¤ê¸°

```tsx
import { allPosts, Post } from 'contentlayer/generated'
```

ìœ„ì˜ allPostsì—ëŠ” ì„¤ì • ê²½ë¡œë¡œë¶€í„° ìƒì„±ëœ mdx íŒŒì¼ë“¤ì´ ë°°ì—´ êµ¬ì¡°ë¡œ ë‹´ê²¨ìˆëŠ”ë°, ë‚˜ëŠ” blog, memo, issue ê°ê°ì˜ ê²Œì‹œê¸€ì´ ìˆê¸°ì— 3ê°œì˜ ê²Œì‹œê¸€ì„ ë³„ë„ë¡œ ë‚˜ëˆ´ë‹¤.

ê²Œì‹œê¸€ ëª©ë¡ì—ì„  ê²Œì‹œê¸€ì˜ metadataë§Œ ë³´ì—¬ì£¼ë©´ ë˜ê¸°ì— util í•¨ìˆ˜ë¥¼ ë³„ë„ë¡œ ë§Œë“¤ì–´ metadataë¥¼ ë°°ì—´ë¡œ ë°›ì•„ì™€ ëª©ë¡ì— ë¿Œë ¤ì¤€ë‹¤.

metadata ì™¸ì—ë„ ê²Œì‹œê¸€ metadataì˜ ëª¨ë“  tagë¥¼ ê°€ì ¸ì˜¤ëŠ” utilì„ í™œìš©í•˜ì—¬ í™”ë©´ ì™¼ìª½ì— ëª¨ë“  tagë¥¼ ë³´ì—¬ì¤€ë‹¤.

## ê²Œì‹œê¸€ ëª©ë¡ í´ë¦­í•˜ì—¬ mdx ë³´ì—¬ì£¼ê¸°

Next.jsì˜ \<Link> íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ê²Œì‹œê¸€ì„ ë³´ì—¬ì£¼ë„ë¡ í•˜ì.

page.tsx ìƒë‹¨ì— metadataì™€ ê´€ë ¨ëœ ë‚´ìš©ë“¤ì„ ë³„ë„ë¡œ ë³´ì—¬ì£¼ê³  í•˜ë‹¨ì— contentë¥¼ ë³´ì—¬ì£¼ë©´ ì™„ì„±! ìì„¸í•œ í™œìš© ë°©ë²•ì€ [Contentlayer ê³µì‹ë¬¸ì„œ](https://www.contentlayer.dev/docs/getting-started-cddd76b7)ë¥¼ ì°¸ê³ í•˜ì.

ë‹¨, ìŠ¤íƒ€ì¼ë§ì´ ë˜ì–´ ìˆì§€ ì•Šì€ë° ë‚˜ëŠ” tailwind.cssì˜ prose í´ë˜ìŠ¤ë¥¼ í™œìš©í–ˆë‹¤. í•˜ì§€ë§Œ prose í´ë˜ìŠ¤ë„ ì™„ë²½í•˜ì§€ëŠ” ì•Šì•„ tailwind.config.jsì— ì¶”ê°€ë¡œ ìŠ¤íƒ€ì¼ë§ì„ í•´ì¤¬ë‹¤. ì•„ë˜ ì˜ˆì‹œëŠ” code, img íƒœê·¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì´ë‹¤.

> ì¶”ê°€) code ë¸”ëŸ­ ìŠ¤íƒ€ì¼ë§ ë°©ë²•ì€ ì•„ë˜ ê²Œì‹œê¸€ì„ ì°¸ê³ 

[mdx ë‚´ë¶€ codeblock ìŠ¤íƒ€ì¼ë§ í•˜ê¸° (feat. rehype-pretty-code)](./add-codeblock-style)

```json
extend: {
  typography: {
    DEFAULT: {
      css: {
        code: {
          //...
        },
        img: {
          //...
        }
      },
    },
  },
} 
```