---
title: 블로그에 mdx 적용하기
description: Nextjs로 만든 블로그에 mdx 적용하기
date: 2023-06-09
tags: [nextjs, 블로그 만들기, prose]
---

## mdx 파일 생성

mdx를 저장할 특정 폴더를 생성한 후 안에 mdx 파일을 작성한다.
mdx 파일엔 \--- dash 3개로 meta 정보를 저장할 수 있기 때문에 파일의 최상단에 meta 정보 또한 같이 적어준다.

## mdx 라이브러리 설치

<a href="https://nextjs.org/docs/app/building-your-application/configuring/mdx" target="_blank" >Next.js 공식문서</a>에서 관련 라이브러리를 설치 한다.

## mdx 파일 읽고 불러오기

Node.js 내장 모듈인 'fs', 'path'로 mdx 파일을 불러오는 메서드를 만든다.
추가로, 모든 게시글 불러오기, 특정 게시글 불러오기, 태그만 가져오기 등 필요한 메서드도 함께 구현한다.

## 위에서 만든 메서드 호출하여 mdx meta 정보 가져오기

*/blog* 화면에서 배열에 담긴 meta 정보들을 화면에 뿌려준다.
메서드 호출을 서버 컴포넌트에서 하느냐 클라이언트 컴포넌트에서 하느냐에 따라 메서드 내에서 정의한 루트 디렉토리가 달라지기 때문에 어느 컴포넌트에서 메서드를 호출할지 결정하고 그에 맞는 루트 디렉토리를 설정하자.

meta 정보 외에도, 게시글 meta에 포함된 tag를 가져오는 메서드를 호출하여 화면 왼쪽에 모든 tag를 보여준다.

## 게시글 목록 클릭하여 mdx 보여주기

Next.js의 \<Link> 태그를 사용하여 해당 게시글을 보여주도록 하자.
page.tsx 상단에 meta 정보와 관련된 내용들을 별도로 보여주고 하단에 content를 보여주면 완성!

단, 스타일링이 되어 있지 않은데 나는 tailwind.css의 prose 클래스를 활용했다!