---
title: Next.js ë¸”ë¡œê·¸ì— SEO ì ìš©í•˜ê¸°
description: Next.js(13.4.4ë²„ì „)ë¡œ ë§Œë“  ë¸”ë¡œê·¸ì— SEOë¥¼ ì ìš©í•´ë³´ì!
date: 2023-06-14
series: Next.js ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
tags: [next.js, next.jsë¸”ë¡œê·¸, next.js13, seo, metadata, sitemap, robots]
imgUrl: set-seo.jpeg
isPublished: true
---

ë¸”ë¡œê·¸ê°€ ì–¼ì¶” ë‹¤ ë§Œë“¤ì–´ì¡Œë‹¤.ğŸ‰

ë‚´ ë¸”ë¡œê·¸ ê¸€ë“¤ì´ í¬í„¸ì—ì„œ ê²€ìƒ‰ì´ ë˜ë„ë¡ SEOë¥¼ ì ìš©í•˜ë ¤ê³  í•˜ëŠ”ë° êµ¬ê¸€ë§ì„ í•´ë³´ë‹ˆ [next-seo](https://github.com/garmeeh/next-seo) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ëŒ€ë¶€ë¶„ í™œìš©í•˜ëŠ” ë“¯ í–ˆë‹¤.

ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©ë„ ì¢‹ì§€ë§Œ, ìš°ì„  ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì§ì ‘ í•˜ë‚˜í•˜ë‚˜ ì ìš©í•´ë³´ê³  í¬ë¡¤ë§ì´ ì œëŒ€ë¡œ ì•ˆ ëœë‹¤~ ì‹¶ìœ¼ë©´ ê·¸ ë•Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ë³´ë ¤ê³  í•œë‹¤!

ğŸ“ ë‚˜ëŠ” í˜„ì¬ Next.js **13.4.4** ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

## \<head> íƒœê·¸ì˜ \<title>, \<meta> íƒœê·¸ ì„¤ì •

ì›¹ í˜ì´ì§€ì˜ ì •ë³´ë¥¼ ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ì—ê²Œ ì œëŒ€ë¡œ ì „ë‹¬í•´ì£¼ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ë‹¤.
ë”°ë¼ì„œ \<head> íƒœê·¸ì˜ \<title>, \<meta> íƒœê·¸ë¥¼ ê° í˜ì´ì§€ì— ë§ê²Œ ì„¤ì •í•´ì•¼ í•œë‹¤. (ë°˜ì€ ë¨¹ê³  ë“¤ì–´ê°„ë‹¤ ìƒê°í•œë‹¤.)

ì²˜ìŒ ë§Œë“¤ì—ˆë˜ `HeadMeta.tsx`ë¥¼ ì‚¬ìš©í•˜ë©´ \<head> íƒœê·¸\([Next.js ê³µì‹ë¬¸ì„œ - Head](https://nextjs.org/docs/pages/api-reference/components/head)\)ê°€ ì ìš©ì´ ë˜ì§€ ì•Šì•„ ê³µì‹ë¬¸ì„œë¥¼ ì°¾ì•„ë³´ë‹ˆ Metadataë¥¼ ì‚¬ìš©í•˜ì—¬ \<head>ë¥¼ ì ìš© í•´ì•¼í•œë‹¤.

ğŸ“ [Next.jsì˜ Metadata í•„ë“œ í™•ì¸í•˜ê¸°](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)

### Metadata

ì •ì  metadataëŠ” layout.tsx ë˜ëŠ” page.tsxì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

ë‚œ ë‚´ë¶€ íƒœê·¸ í˜ì´ì§€ì—ì„œë„ metadataë¥¼ í•¨ê»˜ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ layout.tsxì— ì •ì˜í–ˆë‹¤.

```js
export const metadata: Metadata = {
  title: 'Blog',
  description: PageConstants.BLOG_DESCRIPTION,
};

const layout = ({ children }: { children: React.ReactNode }) => {
  return <>{children}</>;
};

export default layout;
```

ë™ì  metadataëŠ” generateMetadata()ë¥¼ ì‚¬ìš© í•´ì•¼í•œë‹¤. 

layout.tsxì—ì„œëŠ” í…ŒìŠ¤íŠ¸ í•´ ë³¼ ìƒê°ì€ í•˜ì§€ ì•Šì•„ì„œ ëª¨ë¥´ê² ë‹¤ë§Œ, page.tsxì—ì„œë§Œ generateMetadata()ê°€ ì‹¤í–‰ëœë‹¤. ë‚´ ê²½ìš° \[slug\]/page.tsxì—ì„œëŠ” ë¬´ì¡°ê±´ MdxPage ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•˜ê²Œ í•´ë†¨ëŠ”ë°, MdxPageì—ì„œëŠ” ìœ„ generateMetadata()ê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. \<head> íƒœê·¸ë¥¼ ë°”ê¿”ì¤„ í˜ì´ì§€ ìƒë‹¨ì— generateMetadata()ë¥¼ ëª¨ë‘ í˜¸ì¶œí•´ì¤¬ê³  slugë¡œë¶€í„° íŠ¹ì • Metadataë¥¼ ì–»ê²Œí•´ì£¼ëŠ” ìœ í‹¸í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ê°™ì€ ë‚´ìš©ì„ í˜¸ì¶œí•˜ë„ë¡ í–ˆë‹¤.

```javascript
import { Metadata, NextPage } from 'next';

export function generateMetadata({ params: { slug } }: PageSlugProps): Metadata {
  return PostUtil.getMetadataBySlug(slug);
}

const page: NextPage<PageSlugProps> = ({ params: { slug } }) => {
  const post = PostUtil.getIPostBySlug(slug);
  return <MdxPage post={post} />;
};

export default page;
```

ì •ë§ ë‹¤ì–‘í•œ \<meta> íƒœê·¸ê°€ ìˆì—ˆì§€ë§Œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” íƒœê·¸ë§Œ ì ìš©ì‹œì¼°ë‹¤. 
ì›í•˜ëŠ” í•„ë“œê°€ ì—†ì„ ê²½ìš° [Next.js ê³µì‹ë¬¸ì„œ - Metadata](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)ì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. ë‚´ê°€ ì ìš©í•œ \<meta> íƒœê·¸ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```ts
getMetadataBySlug: (slug: string): Metadata => {
  //...
  return {
    title,
    description,
    keywords: tags,
    openGraph: {
      title,
      description,
      url: `/${flattenedPath}`,
      siteName: "Yun's blog",
      images: {
        url: imgUrl || '',
        alt: 'Post Image',
      },
      locale: 'ko_KR',
      type: 'article',
      tags,
    },
    twitter: {
      card: 'summary_large_image',
      creator: "yunjeoming",
      title,
      description,
      images: {
        url: imgUrl || '',
        alt: 'Post Image',
      },
    },
  };
},
```

ì´ì œ ê° í¬ìŠ¤íŠ¸ í™”ë©´ì— \<meta> íƒœê·¸ê°€ ì ìš©ì´ ë˜ì—ˆë‹¤.ğŸ‰

![meta tag](../posts/blog/set-seo/meta-tag.png)

ğŸ‘‡ ë  ì¤„ ì•Œê³  ì²˜ìŒì— ë§Œë“¤ì—ˆë˜ `HeadMeta.tsx` (ì´ì „ ë²„ì „ì—ì„œëŠ” ì ìš©ë˜ëŠ” ë“¯ í•˜ë‹¤. í˜„ì¬ ë‚´ ë²„ì „ì—ì„œëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.)

```tsx
import React from 'react';
import Head from 'next/head';
import { IPost } from '@/types/Post';

interface Props {
  post: IPost;
}

const HeadMeta: React.FC<Props> = ({
  post: {
    meta: { title, description, imgUrl, slug },
  },
}) => {
  return (
    <Head>
      <title>{title}</title>
      <meta name="description" content={description} />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta name="author" content="yunjeoming" />

      <meta property="og:title" content={title} />
      <meta property="og:description" content={description} />
      <meta property="og:type" content="website" />
      <meta property="og:url" content={`https://${slug}`} />
      <meta property="og:image" content={imgUrl} />
      <meta property="og:image:alt" content={`ìœ¤ë¡œê·¸ ì´ë¯¸ì§€`} />
      <meta property="og:locale" content="ko_KR" />

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:title" content={title} />
      <meta name="twitter:description" content={description} />
      <meta name="twitter:image" content={imgUrl} />
      <meta name="twitter:image:alt" content={`ìœ¤ë¡œê·¸ ì´ë¯¸ì§€`} />
    </Head>
  );
};

export default HeadMeta;
```

## sitemap.xml ì„¤ì •

sitemap.xmlëŠ” ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ì—ê²Œ ì›¹ ì‚¬ì´íŠ¸ì˜ êµ¬ì¡°ë¥¼ ì œê³µí•˜ëŠ” íŒŒì¼ì´ë‹¤. sitemap.xmlì— ëª¨ë“  urlì„ ì„¤ì •í•˜ê³  í˜ì´ì§€ ë³„ ìš°ì„  ìˆœìœ„ë¥¼ ì•Œë ¤ì¤„ ìˆ˜ ìˆë‹¤.

[Next.js ê³µì‹ë¬¸ì„œ - sitemap](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap)ì— ì í˜€ìˆëŠ”ëŒ€ë¡œ sitemap.tsë¥¼ ë§Œë“¤ì—ˆë‹¤. ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ `next-sitemap` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•˜ëŠ”ë°, ê³µì‹ë¬¸ì„œì—ì„  /app í´ë”ì— ì¶”ê°€í•˜ë¼ê³  í•´ì„œ ìš°ì„  ê³µì‹ë¬¸ì„œë¥¼ ë”°ë¼ í•˜ê¸°ë¡œ í–ˆë‹¤.

ì‘ì„± ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```ts
import { MetadataRoute } from 'next';

export default function sitemap(): MetadataRoute.Sitemap {
  return [
    {
      url: 'https://yunjeoming.dev',
    },
    {
      url: 'https://yunjeoming.dev/blog',
    },
    {
      url: 'https://yunjeoming.dev/issue',
    },
  ];
}
```

ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— `ë¸”ë¡œê·¸ì£¼ì†Œ/sitemap.xml` ì„ ê²€ìƒ‰í•´ì„œ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ëœ¨ëŠ”ì§€ í™•ì¸í•´ë³´ì.

![/sitemap.xml ê²€ìƒ‰ì‹œ ëœ¨ëŠ” í™”ë©´](../posts/blog/set-seo/sitemap.png)

## robots.txt ì„¤ì •

robots.txtëŠ” ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ëŸ¬ì—ê²Œ ì›¹ ì‚¬ì´íŠ¸ì˜ url ë³„ ì ‘ê·¼ì„ ê²°ì •í•˜ëŠ” íŒŒì¼ì´ë‹¤. ëª¨ë“  ì±…ì˜ **ëª©ì°¨**ì—ì„œ ì›í•˜ëŠ” í˜ì´ì§€ë¥¼ ë°”ë¡œ ë³¼ ìˆ˜ ìˆë“¯ì´, robots.txtëŠ” ì–´ëŠ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ê³ , ë°©ë¬¸í•˜ì§€ ì•Šì„ ì§€ ê²°ì •í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤.

[Next.js ê³µì‹ë¬¸ì„œ - robots.txt](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/robots)ëŠ” /app í´ë”ì— robots.txt íŒŒì¼ì„ ìƒì„±í•˜ë¼ê³  í•œë‹¤. sitemap.tsì™€ í†µì¼ì„±ì„ ì£¼ê¸° ìœ„í•´ robots.tsë¡œ ìƒì„±í–ˆë‹¤.

ì‘ì„± ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```ts
import { MetadataRoute } from 'next';

export default function robots(): MetadataRoute.Robots {
  return {
    rules: {
      userAgent: '*',
      allow: '/',
    },
    sitemap: 'https://.../sitemap.xml',
  };
}
```

ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— `ë¸”ë¡œê·¸ì£¼ì†Œ/robots.txt` ë¥¼ ê²€ìƒ‰í•´ì„œ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ëœ¨ëŠ”ì§€ í™•ì¸í•´ë³´ì.

![/robots.txt ê²€ìƒ‰ì‹œ ëœ¨ëŠ” í™”ë©´](../posts/blog/set-seo/robots.png)

## ìºë…¸ë‹ˆì»¬(Canonical) íƒœê·¸ ì„¤ì •

urlì— query stringì´ ìˆìœ¼ë©´ query stringì„ ë¬´ì‹œí•˜ê³  í†µí•©ëœ í•˜ë‚˜ì˜ urlë§Œ ê²€ìƒ‰í•˜ë„ë¡ í•´ì„œ í˜ì´ì§€ì˜ í¬ë¡¤ë§ ì‘ì—…ì„ ì¤„ì—¬ì£¼ëŠ” íƒœê·¸ì´ë‹¤.

ì‡¼í•‘ëª°ì—ì„œ í•˜ë‚˜ì˜ ìƒí’ˆì„ í´ë¦­í•˜ì—¬ í•´ë‹¹ ìƒí’ˆ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©´ ìƒí’ˆì˜ ì˜µì…˜ë§ˆë‹¤ ê° urlì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. ì˜µì…˜ì´ ì œê°ê°ì´ì–´ë„ ëª¨ë‘ ê°™ì€ í•˜ë‚˜ì˜ ìƒí’ˆì´ê¸° ë•Œë¬¸ì— ë’¤ì˜ query stringì„ ì œê±°í•˜ì—¬ ê¸°ì¡´ì˜ ìƒí’ˆ í˜ì´ì§€ ë‹¨ í•˜ë‚˜ë§Œ í¬ë¡¤ë§ë˜ë„ë¡ í•œë‹¤.


[Next.js ê³µì‹ë¬¸ì„œ - metadatabase](https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase)ì— ì í˜€ìˆëŠ” ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤. ìœ„ ts í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ì•„ë˜ì˜ html í˜•ì‹ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

```ts
export const metadata = {
  metadataBase: new URL('https://....'),
  alternates: {
    canonical: '/',
    languages: {
      'en-US': '/en-US',
      'de-DE': '/de-DE',
    },
  },
  openGraph: {
    images: '/og-image.png',
  },
}
```

```html
<link rel="canonical" href="https://acme.com" />
<link rel="alternate" hreflang="en-US" href="https://acme.com/en-US" />
<link rel="alternate" hreflang="de-DE" href="https://acme.com/de-DE" />
<meta property="og:image" content="https://acme.com/og-image.png" />
```

ë¸”ë¡œê·¸ì—ì„  query stringì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‚œ ì ìš©í•˜ì§€ ì•Šì•˜ë‹¤.

## ë§ˆë¬´ë¦¬

ìš°ì„ ì€ ê°„ë‹¨í•˜ê²Œ ì´ ì •ë„ ê¸°ë³¸ë§Œ ì‘ì„±í•˜ê³ , ì ìš©ì´ ëœ ë˜ê±°ë‚˜ ì•ˆ ë  ê²½ìš° ë°©ë²•ì„ ë‹¤ì‹œ ì°¾ê³  ì ìš©í•  ì˜ˆì •ì´ë‹¤. ğŸ˜Š
